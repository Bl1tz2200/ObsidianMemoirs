#Web #DevOps #Контейнеризация #ОркестровкаКонтейнеров #Инструменты 
#IaC

Kubernetes - целая платформа для автоматизации управления контейнерами
# Основные компоненты
Кластер Kubernetes состоит из узлов, они делятся на master - главный управляющий узел и множество worker - рабочие узлы. Мастер управляет всеми рабочими узлами и организует выполнение оркестровки, как менеджер, а рабочие узлы отвечают за запуск контейнеров

## Компоненты главного узла
Главный (мастер) узел сам состоит из некоторых компонентов:
- etcd
- Сервер API
- Менеджер контроллеров
- Планировщик
### etcd
etcd - распределенная база данных ключей и значений для сохранения в виде JSON достоверных данных для Kubernetes. etcd четко контролирует версии и отслеживает минимальные изменения, внесенные в конфигурацию

### Сервер api
Сервер API отвечает за обслуживание API Kubernetes. Хотите поговорить с Kubernetes и попросить его сделать что-то для вас? Это ваша прямая линия - будь вы пользователь, программа или kubectl. Сервер API также отвечает за отправку и получение данных в/из etcd

### Менеджер контроллеров
Менеджер контроллеров - главная часть операций оркестровки. Kubernetes имеет несколько контроллеров, отвечающих за разные вещи. Все они следят за состояние кластера, вносят или запрашивают изменения по необходимости. Менеджер контроллеров следит за тем, чтобы он указывал нужным контроллерам на выполнение необходимых действий

### Планировщик
Планировщик распределяет работу между несколькими узлами. Он смотрит на требования к ресурсам (например, к процессору и памяти), чтобы определить, когда и на каком узле запускать под (обертку вокруг одного или нескольких контейнеров)

## Компоненты рабочих узлов
Воркеры содержат 2 основных компонента:
- Kubelet
- Kube-proxy

### Kubelet
Kubelet - агент внутри рабочего кластера, следящий за запуском подов (оберток вокруг одного или нескольких контейнеров) по приказу control plane (управлящий уровень с Менеджеров контроллеров). Если уровень управления требует выполнить что-то, Kubelet выполняет 

### Kube-proxy
Kube-proxy обрабатывает сетевые соединения внутри и за пределами вашего кластера. Это означает, что если подам нужно общаться между собой или если какому-то внешнему сервису нужно обратиться к подам, kube-proxy поможет это сделать

# Ресурс, контроллер, оператор
- [Ресурс](https://kubernetes.io/docs/reference/using-api/api-concepts/) Kubernetes — это объект или операция в Kubernetes, доступ к которым осуществляется через Kubernetes API. Тип ресурса известен как **_kind (вид)_** и представлен в виде объекта JSON. Этот JSON-объект хранится (и версионируется) в хранилище etcd
- Контроллер - надзиратель состояния кластера, который обеспечивает стабильность этого самого состояния (как ни странно - контролирует кластер)
- Оператор - разновидность контроллера, которая расширяет функционал Kubernetes с помощью пользовательских ресурсов

Подробнее про эту троицу лучше прочитать с источнике

# Kubectl
kubectl - это интерфейс командной строки (CLI) для управления операциями на кластерах Kubernetes. Он работает в тандеме с файлом kubeconfig из командной строки на вашеё локальной машине и позволяет через API Kubernetes выполнять команды на кластере и получать доступ/обновлять пользовательские определения ресурсов (CRD) или операторы

# [Источник](https://habr.com/ru/companies/otus/articles/650231/)
В качестве источника представлена статья на хабре